<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
    <th:object th:replace="base :: bt"></th:object>
    </head>
    <body>
        <div th:replace="base :: menu"></div>

        <main class="container">
            <form th:action="@{/}">
                <div class="mb-3 mt-3">
                    <input type="text" class="form-control" placeholder="Tìm theo tên" name="kw">
                </div>
                <div class="row mb-3 mt-3">
                    <div  class="col-6">
                        <input type="number" class="form-control" placeholder="Từ giá" name="fromPrice">
                    </div>
                    <div  class="col-6">
                        <input type="number" class="form-control" placeholder="Đến giá" name="toPrice">
                    </div>
                </div>
                <div class="mb-3 mt-3">
                    <button class="btn btn-info">Tìm sản phẩm</button>
                </div>
            </form>
            <div class="mt-2 mb-2">
                <a th:href="@{/products}" class="btn btn-info">Thêm sản phẩm</a>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>ID</th>
                        <th>Tên sản phẩm</th>
                        <th>Gía bán</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="p : ${products}">
                        <td>
                            <img th:src="${p.image}" width="200" class="rounded" />
                        </td>
                        <td th:text="${p.id}"></td>
                        <td th:text="${p.name}"></td>
                        <td th:text="${p.price} + ' VNĐ'"></td>
                        <td>
                            <a th:href="@{/products} + '/' + ${p.id}" class="btn btn-success">Cập nhật</a>
                            <button class="btn btn-danger" th:onclick="'deleteProduct(\'' + @{/api/products/} + ${p.id} + '\')'">Xóa</button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </main>

        <div th:replace="base :: footer"></div>
        
        <script th:src="@{/js/main.js}"></script>
    </body>
</html>